<!DOCTYPE html>
<html class="writer-html5" lang="is" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1. Inngangur &mdash; R frá Grunni 2023</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/datacamp-custom.css" type="text/css" />
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css" type="text/css" />
      <link rel="stylesheet" href="../_static/katex-math.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/strei.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/edbook.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon_2.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/translations.js"></script>
        <script src="../_static/katex.min.js"></script>
        <script src="../_static/auto-render.min.js"></script>
        <script src="../_static/katex_autorenderer.js"></script>
        <script src="https://cdn.datacamp.com/datacamp-light-latest.min.js"></script>
    <script src="../_static/js/theme.js"></script>

<!-- hoverrole.py css code -->
<style type="text/css">
    a.tooltip {
        outline: none;
        border-bottom: thin dotted;
        background: #ffeedd
    }
    
    a.tooltip strong {
        line-height: 30px;
    }
    
    a.tooltip:hover {
        text-decoration: none;
    }
    
    a.tooltip span {
        z-index: 10;
        display: none;
        padding: 14px 20px;
        margin-top: -30px;
        margin-left: 12px;
        width: 310px;
        line-height: 16px;
    }
    
    a.tooltip:hover span {
        display: inline;
        position: absolute;
        color: #111;
        border: 1px solid #DCA;
        background: #fffAF0;
    }
    
    .callout {
        z-index: 20;
        position: absolute;
        top: 30px;
        border: 0;
        left: -12px;
    }
    /*CSS3*/
    
    a.tooltip span {
        border-radius: 4px;
        box-shadow: 5px 5px 8px #CCC;
    }
</style>
<!-- End hoverrole.py css code -->

<style type="text/css">
    .sagecell .CodeMirror-scroll {
        overflow-y: hidden;
        overflow-x: auto;
    }
    
    .sagecell .CodeMirror {
        height: auto;
    }
    /* - Begin equation reference style - */
    
    h6.eqno {
        display: inline-block;
        padding-left: 10px;
    }
    
    h6 .headerlink {
        display: inline-block !important;
    }
    
    h6 .headerlink:after {
        visibility: hidden !important;
    }
    
    h6 .headerlink:hover:after {
        visibility: visible !important;
    }
    
    .eqno:hover>.headerlink:after {
        visibility: visible !important;
    }
    
    table>caption>.headerlink {
        visibility: hidden !important;
    }
    
    table>caption>.headerlink {
        visibility: hidden !important;
    }
    /* - End - */
</style>



    <link rel="index" title="Atriðaskrá" href="../genindex/" />
    <link rel="search" title="Leit" href="../search/" />
    <link rel="next" title="2. Frá tilraun til gagna" href="../kafli02/" />
    <link rel="prev" title="R frá grunni" href="../" /> 


<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script> -->
<script type="text/javascript" src="https://cdn.geogebra.org/apps/deployggb.js"></script>
   
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../" class="icon icon-home">
            R frá Grunni
              <img src="../_static/haskoli_islands-edbook.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2023
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">1. Inngangur</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#um-essa-bok">1.1. Um þessa bók</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">1.1.1. Um þessa bók</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#afer">1.1.1.1. aðferð()</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#hvernig-virkar-r">1.2. Hvernig virkar R?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#vinnulag-i-r-rstudio">1.3. Vinnulag í R/RStudio</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">1.3.1. Vinnulag í R/RStudio</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#verkefnautanumhald-i-rstudio">1.3.1.1. Verkefnautanumhald í Rstudio</a></li>
<li class="toctree-l4"><a class="reference internal" href="#slokkt-a-rstudio">1.3.1.2. Slökkt á Rstudio</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#aferir-skipanir-foll">1.4. Aðferðir/skipanir/föll</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">1.4.1. Aðferðir/skipanir/föll</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#help">1.4.1.1. help()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#help-search">1.4.1.2. help.search()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rsitesearch">1.4.1.3. RSiteSearch()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#apropos">1.4.1.4. apropos()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#args">1.4.1.5. args()</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#r-sem-vasareiknir">1.5. R sem vasareiknir</a></li>
<li class="toctree-l2"><a class="reference internal" href="#r-pakkar">1.6. R-pakkar</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id4">1.6.1. R-pakkar</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#install-packages">1.6.1.1. install.packages()</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#r-a-islensku">1.7. R á íslensku</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gogn">1.8. Gögn</a></li>
<li class="toctree-l2"><a class="reference internal" href="#leiksvaei-fyrir-r-koa">1.9. Leiksvæði fyrir R kóða</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../kafli02/">2. Frá tilraun til gagna</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli03/">3. Myndræn framsetning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli04/">4. Lýsandi tölfræði</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli05/">5. Líkindafræðileg undirstaða</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli06/">6. Ályktunartölfræði</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli07/">7. Ályktanir um flokkabreytur</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli08/">8. Ályktanir um talnabreytur</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli09/">9. Einþátta fervikagreining</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli10/">10. Línuleg aðhvarfsgreining</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli11/">11. Tvíkosta aðhvarfsgreining</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kafli12/">12. Knitr</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ordalistar/">Orðalistar</a></li>
<li class="toctree-l1"><a class="reference internal" href="../um_hofunda/">Um höfunda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../um_R_leiksvaedi/">Um R leiksvæði</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../">R frá Grunni</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><span class="section-number">1. </span>Inngangur</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/edbook/haskoli-islands/blob/master/src/projects/R_fra_grunni/kafli01.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="inngangur">
<span id="c-inngangur"></span><h1><span class="section-number">1. </span>Inngangur<a class="headerlink" href="#inngangur" title="Permalink to this heading"></a></h1>
<p>Tölfræði sem fræðigrein snýst um að vinna upplýsingar út frá tölulegum
mælingum. Gróflega skiptist tölfræðin í tvo anga: að lýsa sem best þeim
gögnum sem fyrirliggjandi eru og að draga ályktanir um almenna hópa eða
þýði út frá mælingum á úrtaki. Í flestum tilfellum er unnið með mikið
magn mælinga og því fer almenn tölfræði- og gagnavinnsla að mestu fram
með aðstoð tölva. Sérhæfð tölfræðiforrit komu snemma fram á sjónarsviðið
og eftir því sem að möguleikar þeirra, sem og reiknigeta tölva, jukust,
varð beiting tölfræði víðfeðmari. Mikill fjöldi forrita eru sérsniðin
fyrir tölfræði, bæði fyrir almenna og sértæka tölfræðiúrvinnslu. Þar ber
helst að nefna R, S-Plus, SAS, STATA og SPSS sem öll hafa náð töluverðri
útbreiðslu innan vissra geira. Einnig eru töflureiknar (t.d. Excel)
mikið notaðir við tölfræðiúrvinnslu, en hafa skal þó í huga að
töflureiknar eru almennt ekki ekki hannaðir sem tölfræðihugbúnaður. Mörg
þessara forrita hafa það sammerkt að notkun þeirra er háð leyfi og
notkun þeirra fyrir utan háskólaumhverfið takmörkuð sökum leyfisgjalda.</p>
<p>Nú í seinni tíð hefur aukist áhersla á þróun opins tölfræðihugbúnaðar,
þ.e. hugbúnaðar sem byggist á forritunarkóða er opinber og aðgengilegur
fyrir alla. Slíkur hugbúnaður er yfirleitt ókeypis og mjög
sveigjanlegur. Eitt vinsælasta tölfræðiforritið í dag, R, er gott dæmi
um þessa þróun. R sem hugbúnaður á rætur að rekja aftur til
tilraunaverkefnis tveggja prófessora í tölfræði rétt fyrir aldamót.
Prófessoranir tveir, Ross Ihaka og Robert Gentleman við háskólann í
Auckland Nýja Sjálandi, þróuðu hugbúnaðinn fyrst til kennslu. Síðar vatt
þróunin uppá sig, ekki síst vegna þess að hún var opin og í mikilli
samvinnu við notendur. Í dag er R bæði forritunarmál og -umhverfi fyrir
alla almenna tölfræði- og gagnavinnslu. Stór þáttur í vinsældum R umfram
önnur tölfræðiforrit er sveigjanleiki og fjöldi viðbóta, svonefndra
pakka, sem bæta og auka möguleika forritsins. R hefur því orðið á
seinustu árum eitt helsta verkfæri tölfræðinga og nú orðið eru flestar
tölfræðiaðferðir fyrst forritaðar fyrir R, áður en önnur forrit taka þau
upp.</p>
<p>Fyrir þá sem hafa bakgrunn í forritun, þá tölum við oft jöfnum höndum um
<em>forritið</em> R (forritið sem framkvæmir tölfræðiúrvinnsluna) og
<em>forritunarmálið</em> R (skipanirnar sem að við gefum forritinu).
Tölfræðiforritið R útfærir forritunarmál sem er sérsniðið fyrir tölfræði
og gagnavinnslu. Ein af sérstöðum R sem forritunarmáls er að í því má
finna sérsniðnar gagnategundir sem tengdar eru tölfræði. Þar má nefna
flokkabreytur, talnabreytur og gagnatöflur, sambærilegar við töflur í
gagnagrunni. Einnig er mikil áhersla lögð á myndræna framsetningu.</p>
<p>R er til fyrir helstu stýrikerfi, þ.e. Windows, MacOsX og Linux. Hráasta
viðmót R er skipanalína, en fjöldinn allur af hjálparforritum hafa verið
þróuð til þess að styðja við notkun á R með einum eða öðrum hætti. Slík
forrit kallast <em>notendaviðmót</em> og má þar einna helst nefna RStudio, sem
hefur síðastliðin ár orðið eitt vinsælasta viðmótið fyrir R. RStudio
hefur, auk mikils stuðnings við R og R-skipanaskrár, innbyggð tól fyrir
sjálfvirka skýrslugerð, skjalastjórnun og gagnvirka greiningu með R.</p>
<section id="um-essa-bok">
<h2><span class="section-number">1.1. </span>Um þessa bók<a class="headerlink" href="#um-essa-bok" title="Permalink to this heading"></a></h2>
<section id="id1">
<h3><span class="section-number">1.1.1. </span>Um þessa bók<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h3>
<p>Þessi bók er skrifuð með það í huga að vera uppflettirit fyrir notendur
sem eru að stíga sín fyrstu skref með R. Henni er því ekki ætlað að vera
kennslubók í tölfræði. Gert er ráð fyrir að notandinn hafi annað hvort
einhvern grunn í tölfræði eða geti aflað hans úr öðrum bókum.</p>
<p>Bókin ýtir notandanum af stað í R með því að kynna til sögunnar helstu
grunnatriði og vísa svo veginn að frekara ýtarefni. Bókinni er skipt í
þematengda kafla þar sem í hverjum kafla er inngangur um efnið og því
næst eru tilteknar aðferðir kynntar með dæmum um notkun. Undir lok
kaflanna eru, eftir atvikum, undirkaflar með frekari útvíkkunum. Þeir
kaflar eru stjörnumerktir og er lesandanum óhætt að geyma þá kafla til
síðari tíma án þess að það komi að sök við frekari lestur bókarinnar.</p>
<p>Í hvert sinn sem að ný aðferð (við munum ýmist nota orðin aðferð, fall
eða skipun um R-skipanir) er kynnt til sögunnar verður yfirlit um helstu
eiginleika hennar lýst með gulum kassa:</p>
<section id="afer">
<h4><span class="section-number">1.1.1.1. </span>aðferð()<a class="headerlink" href="#afer" title="Permalink to this heading"></a></h4>
<div class="admonition attention">
<p class="admonition-title">Athugið</p>
<p><strong>Inntak:</strong> Með hverju á að mata aðferðina</p>
<p><strong>Úttak:</strong> Hvað býr aðferðin til</p>
<p><strong>Helstu stillingar:</strong> Hvað má fínstilla (ef við á)</p>
</div>
<hr class="docutils" />
<p>Að því loknu taka við dæmi um beitingu aðferðarinnar í hvítum kössum:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">aðferð</span><span class="w"> </span><span class="n">sem</span><span class="w"> </span><span class="n">hægt</span><span class="w"> </span><span class="n">er</span><span class="w"> </span><span class="n">að</span><span class="w"> </span><span class="n">keyra</span><span class="w"> </span>í<span class="w"> </span><span class="n">R</span>
</pre></div>
</div>
<p>Allar skipanirnar byggja á aðgengilegum gögnum svo lesandinn getur hermt
þær eftir á eigin tölvu til að dýpka skilninginn.</p>
<p>Við gerum ráð fyrir að notandinn hafi bæði forritin R og RStudio
uppsett. Hægt er að nálgast R af slóðinni <a class="reference external" href="http://cran.hafro.is">http://cran.hafro.is</a> og
RStudio af <a class="reference external" href="http://www.rstudio.com/ide/">http://www.rstudio.com/ide/</a>. Einnig má benda á að til eru
fjölmörg kennslumyndbönd um notkun R en þau má finna á
<a class="reference external" href="http://kennslubanki.hi.is">http://kennslubanki.hi.is</a></p>
</section>
</section>
</section>
<section id="hvernig-virkar-r">
<h2><span class="section-number">1.2. </span>Hvernig virkar R?<a class="headerlink" href="#hvernig-virkar-r" title="Permalink to this heading"></a></h2>
<p>Fyrir þá sem ekki eru vanir því að forrita getur R virst framandi við
fyrstu sýn. Þá getur verið gott að hugsa um R sem tóman verkfærakassa
sem við munum síðar fylla af alls konar <em>hlutum</em>. Þessir hlutir geta
verið af ýmsu tagi, allt frá gögnum til grafa, greininga og aðferða, svo
dæmi séu nefnd.</p>
<p>Í hvert sinn sem við komum að nýju verkefni er kassinn tómur. Síðan
hefst <em>vinnulotan</em> okkar, þar sem við notum <em>skipanir</em> til að búa til
nýja <em>hluti</em> í kassanum okkar. Í hvert sinn sem við framkvæmum skipun í
R höfum við val um tvennt:</p>
<ul class="simple">
<li><p>Að skipunin spýti hlutnum sem við bjuggum til á skjáinn okkar og eyði
honum svo jafnóðum (hendi honum úr kassanum um leið).</p></li>
<li><p>Að skipunin <em>visti</em> hlutinn þannig að við getum nálgast hann aftur og
unnið frekar með hann (geymi hann í kassanum).</p></li>
</ul>
<p>Í hluta <a class="reference internal" href="#s-adferdir"><span class="std std-numref">1.4</span></a> förum við nánar í það hvernig skipanir virka.</p>
<p>R getur ekki vistað hluti nema þeir hafi eitthvað nafn. Það þýðir að
allt í kassanum verður að hafa eitthvað heiti og gildir það jafnt um
gögn sem aðferðir eða greiningar. Þegar við gefum hlut eitthvað heiti
notum við ritháttinn:</p>
<div class="math">
\[\texttt{nafn <- skipun}

\]</div>
<p>þar sem í stað <code class="docutils literal notranslate"><span class="pre">nafn</span></code> kemur nafnið sem við viljum gefa hlutnum og í
stað <code class="docutils literal notranslate"><span class="pre">skipun</span></code> kemur sú skipun sem býr til hlutinn. Táknin þar á milli
eru „minna en merkið“ og bandstrik. Skipunin getur samanstaðið af
mörgum orðum svigum og alls kyns táknum. Ef við hins vegar skrifum bara
skipunina, án þess að vista hana undir nafni, prentar R út það sem
skipunin gerir á skjáinn, án þess að vista nokkuð.</p>
<p>Tveir ólíkir hlutir geta ekki haft sama nafnið. Ef við búum til hlut sem
hefur sama nafn og hlutur sem við höfðum áður búið til þá hverfur gamli
hluturinn og sá nýji kemur í hans stað. Í R er heldur enginn <em>undo</em>
takki, þ.e.a.s. ekki er hægt að afturkalla skipanir með neinum hætti.
Það þýðir að ef við höfum breytt einhverjum hlut er engin leið að
afturkalla þá breytingu nema með því að búa hlutinn aftur til. Það er þó
ekkert til að óttast svo framanlega sem við vöndum vinnulagið okkar í R.
Það er umfjöllunarefni næsta hluta.</p>
</section>
<section id="vinnulag-i-r-rstudio">
<span id="s-vinnulag-i-r"></span><h2><span class="section-number">1.3. </span>Vinnulag í R/RStudio<a class="headerlink" href="#vinnulag-i-r-rstudio" title="Permalink to this heading"></a></h2>
<section id="id2">
<h3><span class="section-number">1.3.1. </span>Vinnulag í R/RStudio<a class="headerlink" href="#id2" title="Permalink to this heading"></a></h3>
<p>Í R er lítið um músasmelli heldur byggist úrvinnslan á því að gefa
forritinu tilteknar skipanir sem það vinnur síðan úr. Það er hvort
tveggja í senn, einn af stærstu kostum R en jafnframt sá eiginleiki sem
fælir marga frá forritinu í upphafi.</p>
<p>Stærsti kosturinn við að gefa skipanir er sá að við getum skrásett
nákvæmlega allar aðgerðir okkar og því getum við ekki einungis
nákvæmlega endurtekið alla úrvinnslu heldur gert það með lítilli
fyrirhöfn. Því margborgar sig að venja sig á skilvirkt vinnulag frá
fyrsta degi þegar unnið er í R. Helsti gallinn við að gefa skipanir er
sá að nöfnin á skipununum standa ekki á skjánum fyrir framan okkur
heldur þurfum við að muna þær eða kunna að leita að þeim, en við munum
koma að þessu síðar.</p>
<p>Afar mikilvægt atriði í góðu vinnulagi í R er að útbúa sérstaka möppu á
tölvunni fyrir sérhvert verkefni, þar sem skipanaskrár, gagnasöfn og
annað sem kemur að vinnslu í R eru geymd. Þessa mappa er kölluð
<em>vinnumappa</em>.</p>
<p>Windows notendur þurfa að passa sig að nota ekki íslenska stafi né bil í
heitinu á möppunni né geyma möppuna í möppum sem inniheldur íslenska
stafi eða bil. Það er því ekki hægt að geyma möppuna í:</p>
<p><code class="docutils literal notranslate"><span class="pre">C\:kalli\My</span> <span class="pre">Documents\tolfraedi\Rverkefni</span></code></p>
<p>þar sem það er bil í <code class="docutils literal notranslate"><span class="pre">My</span> <span class="pre">documents</span></code>. Makka og Linux notendur þurfa
ekki að hafa áhyggjur af þessu.</p>
<p>Til að vinna í R opnum við forritið RStudio. Rstudio keyrir R fyrir
okkur og við þurfum að gæta þess að vera búin að hlaða R niður en við
opnum R ekki sérstaklega.</p>
<figure class="align-center">
<img alt="Mynd" src="../_images/tikz2.svg" /></figure>
<p>Í RStudio er viðmótinu skipt upp í fjóra glugga, eins og sjá má á
myndinni hér fyrir ofan. Neðri vinstri glugginn er <em>keyrsluglugginn</em>,
þar höfum við samskipti við R með því að slá inn skipanir. Þetta er
staðurinn þar sem við <em>búum til hluti</em> og þar sem R sýnir okkur útkomur
skipana þegar við biðjum um þær. Hér búum við til allt í
verkfærakassanum okkar.</p>
<p>Efri vinstri glugginn er <em>skipanaglugginn</em>. Þar geymum við allar þær
skipanir sem við mötum inn í keyrslugluggann. Í þessum glugga er ekkert
framkvæmt, heldur skrifum við niður <em>uppskriftir</em> af hlutunum sem við
búum til. Byrjendum finnst oft gott að prófa sig fyrst áfram í
keyrsluglugganum og færa svo þær skipanir „sem virkuðu“ yfir í
skipanagluggann. Þegar meiri færni er náð verður betra að vinna alfarið
í skipanaglugganum og hlaða síðan skipununum inn í keyrslugluggann þegar
við viljum sjá útkomur þeirra.</p>
<p>Skipanirnar sem við geymum í skipanaglugganum vistum við í sérstaka
skrá, sem við köllum <em>skipanaskrá</em>. Skipanaskrá er alltaf lesin frá
efstu línu og niður svo við þurfum að gæta þess að skrá þær skipanir sem
við viljum framkvæma í réttri röð. Það að breyta hlut neðarlega í
skipanaskrá hefur engin áhrif á þann hlut ofar í skránni. Á meðan við
skráum alla þá úrvinnslu sem við viljum framkvæma í skipanaskránni
þurfum við ekki að hafa nokkrar áhyggjur af því þó við framkvæmum mistök
og eyðum út eða eyðileggjum hluti sem við vorum búin að búa til. Við
lagfærum bara þá línu þar sem mistökin voru og keyrum allar skipanirnar
aftur, frá efstu línu og niðurúr. Yfirleitt tekur það einungis
örskotsstund.</p>
<p>Auðvelt er að senda línur úr skipanaskránni okkar í keyrslugluggann. Við
staðsetjum bendilinn í þeirri línu sem við viljum flytja, höldum svo
niðri <kbd class="kbd docutils literal notranslate">⌘</kbd> + <kbd class="kbd docutils literal notranslate">⏎</kbd> á MacOs en <kbd class="kbd docutils literal notranslate">Ctrl</kbd> + <kbd class="kbd docutils literal notranslate">⏎</kbd> á Windows/linux.
Þá afritast viðkomandi lína yfir í keyrslugluggann og skipunin er framkvæmd.
Einnig er hægt að keyra alla skipanaskrána með því að smella á „source“
hnappinn efst í hægra horninu á skipanaglugganum.</p>
<p>Þið vitið eflaust að mismunandi tegundir af skrám hafa mismunandi
endingar. Þannig er algengt að Word skrár hafi endinguna .docx og að
Excel skrár hafi endinguna .xlsx. Skipanaskrár unnar í R hafa endinguna
.R.</p>
<p>Í efri hægri glugganum eru tveir flipar. Í öðrum flipanum sjáum við
<em>vinnusvæðið</em> okkar. Það eru allir þeir hluti sem búnir hafa verið til í
vinnulotunni, hvort sem það eru gögn sem hafa verið lesið inn eða
tölfræðilíkön sem hafa verið vistuð. Þetta er með öðrum orðum allt það
sem við erum búin að búa til í verkfærakassanum okkar. Í hinum glugganum
má sjá skipanasöguna okkar, þ.e. lista yfir þær skipanir sem keyrðar
hafa verið í vinnulotunni.</p>
<figure class="align-center">
<img alt="Mynd" src="../_images/env.png" />
</figure>
<figure class="align-center">
<img alt="Mynd" src="../_images/hist.png" />
</figure>
<p>Í neðri glugganum hægra meginn eru fimm flipar. Þar sjáum við myndir sem
teiknaðar eru í R og hjálpina sem hægt er að kalla á fyrir R-skipanir.
Hægt er að leita í hjálpinni með því að slá inn leitarorð í
leitargluggann í horninu hægra meginn, en nánar verður fjallað um
hjálpina í R síðar í kaflanum.</p>
<figure class="align-center">
<img alt="Mynd" src="../_images/help.png" />
</figure>
<figure class="align-center">
<img alt="Mynd" src="../_images/plot.png" />
</figure>
<p>Það fyrsta sem við gerum þegar við opnum RStudio er að staðsetja okkur í
réttri möppu, þ.e.a.s. vinnumöppunni okkar. Við staðsetjum okkur í
réttri möppu með því að velja <code class="docutils literal notranslate"><span class="pre">Session</span></code><span class="math">\(\rightarrow\)</span>
<code class="docutils literal notranslate"><span class="pre">Set</span> <span class="pre">Working</span> <span class="pre">Directory</span></code> <span class="math">\(\rightarrow\)</span> <code class="docutils literal notranslate"><span class="pre">Choose</span> <span class="pre">Directory</span></code> og
velja þar möppuna. Rstudio sýnir okkur þá innhald möppunnar í
úttaksglugganum undir <code class="docutils literal notranslate"><span class="pre">Files</span></code>.</p>
<figure class="align-center">
<img alt="Mynd" src="../_images/files.png" />
</figure>
<p>Þegar RStudio er ræst í fyrsta skipti þarf að opna sérstaklega
skipanaglugga með því að fara í <code class="docutils literal notranslate"><span class="pre">File</span></code><span class="math">\(\rightarrow\)</span>
<code class="docutils literal notranslate"><span class="pre">New</span> <span class="pre">Document</span></code><span class="math">\(\rightarrow\)</span> <code class="docutils literal notranslate"><span class="pre">R</span> <span class="pre">script</span></code>. Þá birtist
skipanagluggi á skjánum. Viljum við koma aftur að skipanaskrá sem
viðhöfum áður unnið með förum við í <code class="docutils literal notranslate"><span class="pre">Open</span></code> í stað <code class="docutils literal notranslate"><span class="pre">New</span> <span class="pre">Document</span></code>.</p>
<section id="verkefnautanumhald-i-rstudio">
<h4><span class="section-number">1.3.1.1. </span>Verkefnautanumhald í Rstudio<a class="headerlink" href="#verkefnautanumhald-i-rstudio" title="Permalink to this heading"></a></h4>
<p>Þegar unnið er að fleiri en tveim úrvinnslum í einu og/eða við viljum
koma að sömu úrvinnslu síðar meir getur Rstudio auðveldað okkur lífið
enn frekar með því að skilgreina <em>verkefni</em>. Verkefni eru sérstakar
skrár með endingunni „.Rproj“. Þær halda utan um vinnumöppu notandans,
tryggja að ný (og hrein) vinnulota er ræst (þ.a. niðurstöður annarra
reikninga trufli ekki þá sem notandinn vill vinna með) og opnar þær
skrár sem notandinn var að vinna með seinast. Hægt er að hafa sértækar
stillingar fyrir sérhvert verkefni sem og að hafa mörg verkefni opin í
einu, eitt í hverjum glugga. Nýtt verkefni er stofnað með því að velja
<code class="docutils literal notranslate"><span class="pre">File</span></code><span class="math">\(\rightarrow\)</span><code class="docutils literal notranslate"><span class="pre">New</span> <span class="pre">project</span></code> og svo í framhaldinu
velja viðeigandi hluti í valglugga sem þá birtist:</p>
<figure class="align-center">
<img alt="Mynd" src="../_images/project1.png" />
</figure>
<p>Hér hefur notandinn möguleika á því að tengja verkefni við þrjár gerðir
af vinnumöppum: A) nýja vinnumöppu, B) tengja við vinnumöppu sem er til
og geymir gagnasett, og C) vinnumöppur sem tengjast
skjalastjórnunarkerfunum git og svn. Sé ný vinnumappa valin þá fær
notandinn val um skilgreina verkefnið betur svo að Rstudio geti sett
verkefnið rétt upp:</p>
<figure class="align-center">
<img alt="Mynd" src="../_images/project2.png" />
</figure>
<p>Lesendur þessarar bókar munu að öllum líkindum velja fyrst um sinn <em>tómt
verkefni</em> (e. empty project). Hinir tveir valmöguleikarnir bjóða upp á
stillingar fyrir pakkasmíði og gagnvirkt vefviðmót fyrir R-forrit. Sé
tómt verkefni valið er notandinn beðinn um að finna stað fyrir
verkefnið.</p>
<figure class="align-center">
<img alt="Mynd" src="../_images/project3.png" />
</figure>
<p>Rstudio býr þá til nýtt verkefni á þeim stað. Þá verður til skrá með
endinguna <code class="docutils literal notranslate"><span class="pre">.Rproj</span></code>, sé smellt á hana opnast R, með vinnumöppuna sem
við tilgreindum í vinnulotunni og opnar þær skipanaskrár sem síðast voru
opnar þegar við unnum í verkefninu.</p>
</section>
<section id="slokkt-a-rstudio">
<h4><span class="section-number">1.3.1.2. </span>Slökkt á Rstudio<a class="headerlink" href="#slokkt-a-rstudio" title="Permalink to this heading"></a></h4>
<p>Þegar slökkt er á Rstudio er notandinn spurður um óvistaðar skrár:</p>
<figure class="align-center">
<img alt="Mynd" src="../_images/shutdown.png" />
</figure>
<p>Hér hefur notandinn ekki vistað skránna „analysis.R“, sem líkast til er
æskilegt að gera. Hin skráin „Workspace image (.RData)“ geymir þá hluti
sem eru til í vinnulotunni hjá notandanum. Mörgum þykir þægilegt að
geyma vinnusvæðið milli vinnulota, sérstaklega ef þungir útreikningar
liggja að baki þeirra. Hafa skal þó í huga að hlutir úr geymdu
vinnusvæði geta truflað úrvinnslu og því er æskilegt að geyma ekki
vinnusvæðið milli vinnulota. Einnig er það ekki æskilegt vegna
<em>rekjanleika</em>, betra er að allir hlutir séu skilgreindar í skipanaskrá
sem er svo keyrð þegar þarf.</p>
</section>
</section>
</section>
<section id="aferir-skipanir-foll">
<span id="s-adferdir"></span><h2><span class="section-number">1.4. </span>Aðferðir/skipanir/föll<a class="headerlink" href="#aferir-skipanir-foll" title="Permalink to this heading"></a></h2>
<section id="id3">
<h3><span class="section-number">1.4.1. </span>Aðferðir/skipanir/föll<a class="headerlink" href="#id3" title="Permalink to this heading"></a></h3>
<section id="help">
<h4><span class="section-number">1.4.1.1. </span>help()<a class="headerlink" href="#help" title="Permalink to this heading"></a></h4>
<div class="admonition attention">
<p class="admonition-title">Athugið</p>
<p><strong>Inntak:</strong> Nafn á falli</p>
<p><strong>Úttak:</strong> Kallar fram hjálparsíðuna fyrir fallið</p>
<p><strong>Helstu stillingar:</strong> package, help<span class="math">\(\_\)</span>type</p>
</div>
<hr class="docutils" />
<p>R hefur, eins og áður sagði, fjölda innbyggðra falla sem auðvelda
notandanum að vinna með gögn auk þess sem auðvelt er fyrir notandann að
smíða sín eigin föll. Til þess að fá yfirsýn yfir þessi innbyggðu föll
hefur R innbyggða <em>hjálp</em> sem gefur okkur nánari upplýsingar um þá
skipun/aðferð/fall sem við viljum fræðast meira um. Þannig gefur
skipunin</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">help</span><span class="p">(</span><span class="n">read.table</span><span class="p">)</span>
</pre></div>
</div>
<p>okkur nánari upplýsingar um skipunina <code class="docutils literal notranslate"><span class="pre">read.table()</span></code>. Nánari
upplýsingar birtast þá í nýjum glugga á skjánum. Látið útlit
hjálparinnar ekki fæla ykkur frá. Það er vissulega hrátt og gæti virst
óskiljanlegt í fyrstu en læri maður að líta á úttakið réttum augum má
finna þar miklar upplýsingar á fljótlegan hátt. Hjálpin í R fylgir
eftirfarandi sniðmáti:</p>
<ul class="simple">
<li><p>Efst, undir <code class="docutils literal notranslate"><span class="pre">Description:</span></code>, kemur stutt lýsing á skipuninni.</p></li>
<li><p>Þar á eftir kemur <code class="docutils literal notranslate"><span class="pre">Usage:</span></code> en þar sjást allar þær stillingar sem
hægt er að gefa skipuninni. Yfirleitt eru flestar stillingarnar
<em>sjálfgefnar</em> sem þýðir að ef við tilgreinum ekkert eru stillingarnar
sjálfkrafa stilltar á algengustu gildin. Viljum við breyta einhverjum
af stillingunum, þá tilgreinum við eingöngu þær stillingar sem við
viljum breyta og hvaða gildi við viljum að séu á þeim stillingum.</p></li>
<li><p>Næst er komið að <code class="docutils literal notranslate"><span class="pre">Arguments:</span></code>. Þar eru allar mögulegar stillingar
sýndar, hvaða gildi er hægt að gefa þeim og hvaða áhrif það hefur.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Details:</span></code> gefur ítarlega lýsingu á þeirri „vinnu“ sem skipunin
framkvæmir.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Value:</span></code> útskýrir hvers lags útkoma kemur út úr skipuninni.</p></li>
<li><p>Undir <code class="docutils literal notranslate"><span class="pre">Note:</span></code> má finna ýmsar gagnlegar ábendingar.</p></li>
<li><p>Í <code class="docutils literal notranslate"><span class="pre">References:</span></code> eru heimildir sem aðferðin byggir á.</p></li>
<li><p>Oft reynast góðir molar í <code class="docutils literal notranslate"><span class="pre">See</span> <span class="pre">Also:</span></code>. Þar eru oft dæmi um aðrar
skyldar aðferðir sem gætu reynst gagnlegar sem og heimasíður og
fleira sem gæti komið að góðum notum.</p></li>
<li><p>Að lokum má sjá dæmi um beitingu aðferðinnar í <code class="docutils literal notranslate"><span class="pre">Examples:</span></code>. Verið
óspör að prófa þau dæmi til að kynnast aðferðinni betur.</p></li>
</ul>
<p>Stundum eru fleiri kaflar í hjálpinni en þetta eru þeir mikilvægustu.</p>
</section>
<section id="help-search">
<h4><span class="section-number">1.4.1.2. </span>help.search()<a class="headerlink" href="#help-search" title="Permalink to this heading"></a></h4>
<div class="admonition attention">
<p class="admonition-title">Athugið</p>
<p><strong>Inntak:</strong> Efnisatriði innan gæsalappa</p>
<p><strong>Úttak:</strong> Leitar að efni í texta hjálparsíða R falla</p>
<p><strong>Helstu stillingar:</strong> package, fields</p>
</div>
<hr class="docutils" />
<p>Ef við þekkjum ekki nafnið á fallinu má leita eftir efnisatriði:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">help.search</span><span class="p">(</span><span class="s">&quot;efnisatridi&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Þá er þó aðeins leitað í þeim <em>pökkum</em> sem hefur verið hlaðin niður á
tölvuna sem unnið er á. Við förum nánar í pakka í hluta <a class="reference internal" href="#s-pakkar"><span class="std std-numref">1.6</span></a>.
Það sama gildir um föllin <code class="docutils literal notranslate"><span class="pre">help()</span></code> og <code class="docutils literal notranslate"><span class="pre">help.search()</span></code>. Ef við viljum
leita að skipunum sem gætu mögulega leynst í pökkum sem við höfum ekki
hlaðið niður má nota skipunina <code class="docutils literal notranslate"><span class="pre">RSiteSearch()</span></code>.</p>
</section>
<section id="rsitesearch">
<h4><span class="section-number">1.4.1.3. </span>RSiteSearch()<a class="headerlink" href="#rsitesearch" title="Permalink to this heading"></a></h4>
<div class="admonition attention">
<p class="admonition-title">Athugið</p>
<p><strong>Inntak:</strong> Efnisatriði innan gæsalappa</p>
<p><strong>Úttak:</strong> Leitar að föllum á heimasíðu R</p>
<p><strong>Helstu stillingar:</strong> restrict, sortby</p>
</div>
<hr class="docutils" />
<p>Til að leita á heimasíðu R eftir efnisatriði má nota</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">RSiteSearch</span><span class="p">(</span><span class="s">&quot;efnisatridi&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>sem gefur notandanum lista yfir pakka og föll sem til eru á heimasíðu R
í nýjum vafraglugga.</p>
</section>
<section id="apropos">
<h4><span class="section-number">1.4.1.4. </span>apropos()<a class="headerlink" href="#apropos" title="Permalink to this heading"></a></h4>
<div class="admonition attention">
<p class="admonition-title">Athugið</p>
<p><strong>Inntak:</strong> Textabrot innan gæsalappa</p>
<p><strong>Úttak:</strong> Listi að föllum sem innihalda textabrotið</p>
<p><strong>Helstu stillingar:</strong></p>
</div>
<hr class="docutils" />
<p>Ef allt annað bregst, en við munum part úr nafni fallsins, en þó ekki
alveg allt, þá getum við notað fallið <code class="docutils literal notranslate"><span class="pre">apropos</span></code>. Það skilar lista af
nöfnum falla sem hafa ákveðinn <code class="docutils literal notranslate"><span class="pre">strenghluta</span></code>, þ.e. nafnið á fallinu
inniheldur þann textabút.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">apropos</span><span class="p">(</span><span class="s">&#39;spss&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">## skilar villu ef foreign pakkinn</span>
<span class="c1">## er ekki virkur i minni</span>
<span class="nf">library</span><span class="p">(</span><span class="n">foreign</span><span class="p">)</span><span class="w"> </span><span class="c1">## pakki sem inniheldur read.spss fallid</span>
<span class="nf">apropos</span><span class="p">(</span><span class="s">&#39;spss&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Athugið að <code class="docutils literal notranslate"><span class="pre">apropos</span></code> skilar aðeins nöfnum falla sem eru í minni.</p>
</section>
<section id="args">
<h4><span class="section-number">1.4.1.5. </span>args()<a class="headerlink" href="#args" title="Permalink to this heading"></a></h4>
<div class="admonition attention">
<p class="admonition-title">Athugið</p>
<p><strong>Inntak:</strong> Nafn á falli</p>
<p><strong>Úttak:</strong> Inntak fallsins</p>
</div>
<hr class="docutils" />
<p>Vilji notandinn aðeins skoða hver inntökin í fallið eru er hægt að nota
fallið <code class="docutils literal notranslate"><span class="pre">args</span></code>:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">args</span><span class="p">(</span><span class="n">mean</span><span class="p">)</span>
<span class="c1">## function (x, ...)</span>
<span class="c1">## NULL</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="r-sem-vasareiknir">
<h2><span class="section-number">1.5. </span>R sem vasareiknir<a class="headerlink" href="#r-sem-vasareiknir" title="Permalink to this heading"></a></h2>
<p>Í R má framkvæma allar þær aðgerðir sem finna má á venjulegum
vasareiknum. Þannig leggur skipunin</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="m">3+5</span>
<span class="c1">## [1] 8</span>
</pre></div>
</div>
<p>einfaldlega saman tölurnar 3 og 5. Á sama hátt og við erum vön notum við
mínus (-), margföldun (*) og deilingu (<span class="math">\(\backslash\)</span>).</p>
<p>Aðferðin ** hefur tölur í veldi. Skipunin</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="m">2</span><span class="o">**</span><span class="m">4</span>
<span class="c1">## [1] 16</span>
</pre></div>
</div>
<p>reiknar því stærðina <span class="math">\(2^4\)</span>.</p>
<p>Aðferðin <code class="docutils literal notranslate"><span class="pre">sqrt()</span></code> tekur rótina af tölunum sem við mötum hana með</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">sqrt</span><span class="p">(</span><span class="m">9</span><span class="p">)</span>
<span class="c1">## [1] 3</span>
</pre></div>
</div>
<p>skilar sem dæmi rótinni af 9.</p>
<p>R beitir réttri röð reikniaðgerða. Það er að segja, það byrjar á því að
hefja í veldi eða taka rætur, því næst margfaldar það eða deilir og að
lokum leggur það saman eða dregur frá. Gefum við því skipunina</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="m">3+5</span><span class="o">*</span><span class="m">4</span><span class="o">**</span><span class="m">2</span>
<span class="c1">## [1] 83</span>
</pre></div>
</div>
<p>byrjar það á því að reikna <span class="math">\(4^2\)</span> (16) síðan margfaldar það þá
stærð með 5 (80) og leggur á endanum þrjá við (83).</p>
<p>Við notum sviga á sama hátt í R og hefðbundnum vasareiknum. Ef við notum
sviga þá byrjar R á því að reikna stæðuna sem stendur innan svigans eins
og við viljum. Gætið ykkar samt á því að R skilur ekki skipunina:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="m">3</span><span class="p">(</span><span class="m">6-8</span><span class="o">/</span><span class="m">2</span><span class="p">)</span>
<span class="c1">## Error in eval(expr, envir, enclos): attempt to apply non-function</span>
</pre></div>
</div>
<p>Ef við viljum margfalda töluna 3 við innihald svigans þá verðum við að
muna eftir að setja margföldunarmerkið (*) á milli, þ.e. skrifa:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="m">3</span><span class="o">*</span><span class="p">(</span><span class="m">6-8</span><span class="o">/</span><span class="m">2</span><span class="p">)</span>
<span class="c1">## [1] 6</span>
</pre></div>
</div>
<p>Þessi skipun reiknar stærðina
<span class="math">\(3 \cdot (6 - 8/2) = 3 \cdot (6-4) = 3\cdot 2\)</span> og gefur því
útkomuna 6.</p>
<p>Skipunin <code class="docutils literal notranslate"><span class="pre">exp()</span></code> hefur e í það veldi sem hún er mötuð með. Viljum við
hefja <span class="math">\(e\)</span> í veldið 3, þ.e.a.s. reikna <span class="math">\(e^3\)</span> gefum við
skipunina:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">exp</span><span class="p">(</span><span class="m">3</span><span class="p">)</span>
<span class="c1">## [1] 20.08554</span>
</pre></div>
</div>
<p>Skipunin <code class="docutils literal notranslate"><span class="pre">log()</span></code> tekur logarithma af því sem við mötum hana með. Gætið
ykkar þó að sjálfgefna stillingin í R reiknar náttúrulega logarithmann
(með grunntöluna <span class="math">\(e\)</span>). Ef við viljum logarithma með grunntöluna 10
notum við stillinguna <code class="docutils literal notranslate"><span class="pre">base=10</span></code>. Þá myndum við gefa skipunina</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">log</span><span class="p">(</span><span class="m">33</span><span class="p">,</span><span class="w"> </span><span class="n">base</span><span class="o">=</span><span class="m">10</span><span class="p">)</span>
<span class="c1">## [1] 1.518514</span>
</pre></div>
</div>
<p>til að reikna log(33) svo dæmi sé nefnt.</p>
<p>Viljum við geyma niðurstöður reikninga, eða aðgerða almennt, má alltaf
vista niðurstöðurnar sem <code class="docutils literal notranslate"><span class="pre">hlut</span></code>:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span>
<span class="n">a</span>
<span class="c1">## [1] 2</span>
<span class="n">b</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span>
<span class="n">b</span>
<span class="c1">## [1] 3</span>
</pre></div>
</div>
</section>
<section id="r-pakkar">
<span id="s-pakkar"></span><h2><span class="section-number">1.6. </span>R-pakkar<a class="headerlink" href="#r-pakkar" title="Permalink to this heading"></a></h2>
<section id="id4">
<h3><span class="section-number">1.6.1. </span>R-pakkar<a class="headerlink" href="#id4" title="Permalink to this heading"></a></h3>
<section id="install-packages">
<h4><span class="section-number">1.6.1.1. </span>install.packages()<a class="headerlink" href="#install-packages" title="Permalink to this heading"></a></h4>
<div class="admonition attention">
<p class="admonition-title">Athugið</p>
<p><strong>Inntak:</strong> Nafn á pakka innan gæsalappa</p>
<p><strong>Úttak:</strong> Pakki, og aðrir pakkar honum tengdur, er settur upp</p>
<p><strong>Helstu stillingar:</strong> repos</p>
</div>
<hr class="docutils" />
<p><code class="docutils literal notranslate"><span class="pre">R</span> <span class="pre">pakki</span></code> er samansafn af aðferðum, oft sérsniðnar fyrir ákveðna gerð
af tölfræðiúrvinnslu. Til eru ótalmargir pakkar fyrir nánast hvaða
tölfræðiaðferð sem er og þykir nú regla fremur en undantekning að
glænýjar tölfræðiaðferðir séu kynntar til leiks fyrir tölfræðiheiminum
sem nýr R pakki. Þegar R er hlaðið niður í fyrsta skipti kemur það með
fjöldanum öllum af svokölluðum grunnpökkum en þurfum við pakka sem ekki
tilheyra þessum grunnpökkum þurfum við að hlaða þeim niður á tölvuna
okkar með aðferðinni <code class="docutils literal notranslate"><span class="pre">install.packages()</span></code>. Það þarf aðeins að gera
einu sinni á hverri tölvu. Viljum við t.d ná í <code class="docutils literal notranslate"><span class="pre">ggplot2</span></code> pakkann gerum
við það með skipuninni:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">install.packages</span><span class="p">(</span><span class="s">&quot;ggplot2&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Ef við viljum svo vinna með aðferðirnar í tilteknum pakka þurfum við að
láta R vita af því. Það þarf að gera í hvert sinn sem ný vinnulota hefst
í R. Við gerum aðferðirnar úr pakkanum aðgengilegar með skipuninni:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span>
</pre></div>
</div>
<p>Við getum hugsað það sem svo að með skipuninni <code class="docutils literal notranslate"><span class="pre">library()</span></code> stingum við
pakka í samband við verkfærakassann okkar til að hafa aðgang að þeim
skipunum sem þar er að finna.</p>
</section>
</section>
</section>
<section id="r-a-islensku">
<h2><span class="section-number">1.7. </span>R á íslensku<a class="headerlink" href="#r-a-islensku" title="Permalink to this heading"></a></h2>
<p>Íslenskir stafir eru oft til vandræða þegar skjöl eru opnuð í annarri
gerð af stýrikerfi en þau voru búin til. Niðurstaðan verður þá í þessa
átt</p>
<figure class="align-default">
<img alt="../_images/stafirirugli.png" src="../_images/stafirirugli.png" />
</figure>
<p>Ástæða þess er sú að stýrikerfi hafa enn ekki innleitt sameiginlegan
staðal til að tákna stafi - og þessir staðlar eru ekki eingöngu ólíkir
frá stýrikerfi til stýrikerfis, heldur einnig á milli tungumála- og
heimshluta hjá sama stýrikerfi. Á íslenskum tölvum er algengast að
<code class="docutils literal notranslate"><span class="pre">latin-1</span></code> staðallinn notaður á Windows tölvum á meðan nýrri <code class="docutils literal notranslate"><span class="pre">UTF-8</span></code>
staðall er notaður á MacOSX/Linux tölvum.</p>
<p>Þegar skjöl birtast á þennan hátt er mikilvægt að <strong>vista ekki skjalið</strong>
heldur fara beint í <code class="docutils literal notranslate"><span class="pre">File</span></code><span class="math">\(\rightarrow\)</span>
<code class="docutils literal notranslate"><span class="pre">Reopen</span> <span class="pre">with</span> <span class="pre">Encoding...</span></code> og velja þá</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ISO-8859-1</span></code> ef unnið er í MacOsX tölvu en skjalið var búið til í
Windows tölvu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UTF-8</span></code> ef unnið er í Windows tölvu en skjalið var búið til í
MacOsX tölvu.</p></li>
</ul>
<p>ef þið hyggist vinna áfram með skjalið borgar sig svo að fara í
<code class="docutils literal notranslate"><span class="pre">File</span></code><span class="math">\(\rightarrow\)</span> <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">with</span> <span class="pre">Encoding...</span></code> og velja þar
þann staðal sem tölvan ykkar notar.</p>
<p>Einnig lenda MacOsX notendur stundum í því að íslenskir stafir birtast
rétt í .R skrám en rangt á gröfum. Það er hægt að laga með því að gefa
skipunina</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">system</span><span class="p">(</span><span class="s">&quot;defaults write org.R-project.R force.LANG en_US.UTF-8&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>og endurræsa svo Rstudio. Þá ættu íslensku stafirnir að birtast rétt.
Þessa skipun þarf bara að gefa einu sinni á hverri tölvu, þ.e.a.s. ekki
í hvert sinn sem R er ræst.</p>
</section>
<section id="gogn">
<h2><span class="section-number">1.8. </span>Gögn<a class="headerlink" href="#gogn" title="Permalink to this heading"></a></h2>
<p>Í þessari bók munum við aðallega notast við eitt gagnasafn en það má
finna í skránni <code class="docutils literal notranslate"><span class="pre">pulsAll.csv</span></code> sem hlaða má niður hér:</p>
<p><a class="reference external" href="http://edbook.hi.is/gogn/pulsAll.csv">http://edbook.hi.is/gogn/pulsAll.csv</a>.</p>
<p>Skráin inniheldur eftirfarandi breytur:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Breyta</p></th>
<th class="head"><p>Útskýring/gildi</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>namskeid</p></td>
<td><p>LAN203, STAE209</p></td>
</tr>
<tr class="row-odd"><td><p>kronukast</p></td>
<td><p>thorskur, landvaettir</p></td>
</tr>
<tr class="row-even"><td><p>haed</p></td>
<td><p>hæð í sentimetrum</p></td>
</tr>
<tr class="row-odd"><td><p>thyngd</p></td>
<td><p>þyngd í kílógrömmum</p></td>
</tr>
<tr class="row-even"><td><p>aldur</p></td>
<td><p>aldur í árum</p></td>
</tr>
<tr class="row-odd"><td><p>kyn</p></td>
<td><p>1 = kona, 2 = karl</p></td>
</tr>
<tr class="row-even"><td><p>reykir</p></td>
<td><p>ja, nei</p></td>
</tr>
<tr class="row-odd"><td><p>drekkur</p></td>
<td><p>ja, nei</p></td>
</tr>
<tr class="row-even"><td><p>likamsraekt</p></td>
<td><p>líkamsrækt í klst/viku</p></td>
</tr>
<tr class="row-odd"><td><p>fyrriPuls</p></td>
<td><p>fyrri púlsmæling slög/mín</p></td>
</tr>
<tr class="row-even"><td><p>seinniPuls</p></td>
<td><p>seinni púlsmæling slög/mín</p></td>
</tr>
<tr class="row-odd"><td><p>inngrip</p></td>
<td><p>hljop, sat_kyrr</p></td>
</tr>
<tr class="row-even"><td><p>dagsetning</p></td>
<td><p>hvaða dag tilraunin fór fram dagur.manudur.ar</p></td>
</tr>
</tbody>
</table>
<p>Þessum gögnum var safnað saman í tveimur námskeiðum við Háskóla Íslands
á árunum 2013 - 2015. Nemendur voru beðnir um að skrá niður ýmsar
bakgrunnsupplýsingar (hæð, aldur, kyn, …) og mæla svo púlsinn sinn.
Því næst voru nemendurnir beðnir um að kasta krónu og þeir sem fengu upp
þorsk voru beðnir um að hlaupa um stofuna í tvær mínútur en hinir beðnir
um að sitja í sætunum sínum á meðan. Að þessu loknu mældu nemendur
púlsinn sinn á ný.</p>
<p>Vistið skrána í vinnumöppunni á vélinni ykkar en forðist að opna hana í
töflureikni, sér í lagi Excel, undarlegustu hlutir geta gerst! Ef þið
viljið skoða skrána opnið hana frekar í ritl, t.d. Notepad eða TextEdit.</p>
<p>Við munum nota þessi sömu gögn í umfjöllun okkar um ályktunartölfræði.
Við munum þá gera ráð fyrir að einstaklingarnir í gagnaskránni séu
slembiúrtak úr stóru þýði nemenda og því getum við notað gögnin til að
draga hinar ýmsu ályktanir um þýði nemenda.</p>
</section>
<section id="leiksvaei-fyrir-r-koa">
<h2><span class="section-number">1.9. </span>Leiksvæði fyrir R kóða<a class="headerlink" href="#leiksvaei-fyrir-r-koa" title="Permalink to this heading"></a></h2>
<p>Hér fyrir neðan er hægt að skrifa R kóða og keyra hann. Notið þetta svæði til að prófa ykkur áfram með skipanir kaflans. Athugið að við höfum þegar sett inn skipun til að lesa inn <code class="docutils literal notranslate"><span class="pre">puls</span></code> gögnin sem eru notuð gegnum alla bókina.</p>
<div data-datacamp-exercise data-lang="r"><code data-type="sample-code"># Gogn sott og sett i breytuna puls.
puls <- read.table ("https://raw.githubusercontent.com/edbook/haskoli-islands/main/pulsAll.csv", header=TRUE, sep=";")

# Setjid ykkar eigin koda her fyrir nedan:
# Sem daemi, skipunin head(puls) skilar fyrstu nokkrar radirnar i gognunum
# asamt dalkarheitum.
head(puls)</code></div></section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../" class="btn btn-neutral float-left" title="R frá grunni" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../kafli02/" class="btn btn-neutral float-right" title="2. Frá tilraun til gagna" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>   
<style>
    /* Sidebar header (and topbar for mobile) */
    
    .wy-side-nav-search,
    .wy-nav-top {
        background: #10099F;
    }
    /* Sidebar */
    
    .wy-nav-side {
        background: #262626;
    }
</style>



</body>
</html>